<article>
  <title>An argumentation-oriented multi-agent system for automating the freight planning process</title>
  <abstract>
    <sentence>This paper advocates the use of multi-agent systems in the freight forwarding industry.</sentence>
    <sentence>We propose an intelligent mobile agent system to cope with a dynamic freight forwarding environment where up-to-date information is crucial but time-consuming to obtain.</sentence>
    <sentence>A key component of our system is an agent argumentation mechanism that allows decision support agents to discuss, argue, and come to a compromise in order to derive well-explained freight planning solutions.</sentence>
    <sentence>A number of artificial intelligence mechanisms are implemented, namely: (1) a mobile-agent-based automated information gathering mechanism, where designated mobile agents access various websites automatically to gather information (e.g., weather conditions on a candidate route) critical for cargo consolidation and route planning, (2) a fuzzy logics engine for risk evaluation, and (3) a simulated annealing engine for optimizing cargo consolidation.</sentence>
    <sentence>A system prototype is developed and the feasibility of our approach is demonstrated in a case study.</sentence>
    <sentence>A series of experiments are also conducted to evaluate the system’s performance.</sentence>
  </abstract>
  <keywords>
    <keyword>Argumentation</keyword>
    <keyword>Multi-agent system</keyword>
    <keyword>Freight forwarding</keyword>
    <keyword>Route planning</keyword>
  </keywords>
  <section name="Introduction">
    <sentence>With the rapid development of the Internet and relevant information and communication technology, a new business model called e-business has emerged.</sentence>
    <sentence>The distinctive characteristic of this model is that it allows people to trade without geographical limitations.</sentence>
    <sentence>To ensure fast and efficient global delivery of products, the demand for air cargo has been growing during the last 20 years.</sentence>
    <sentence>One important but frequently overlooked group of companies in the field of air cargo logistics are the air freight forwarders.</sentence>
    <sentence>Air freight forwarders are third party logistics companies that coordinate, consolidate, and arrange the delivery of cargo shipments for their shipping clients (Wong, Leung, &amp; Hui, 2009).</sentence>
    <sentence>The primary task of an air freight forwarder is to construct freight plans with the target of minimizing the overall operations cost while fulfilling shipment deadlines and other conditions specified by their customers, then execute the plans accordingly.</sentence>
    <sentence>This problem is called the route planning problem.</sentence>
    <sentence>In reality, freight forwarders need to consider a large amount of additional information during their planning process, for instance, the weather conditions along the cargo route, the political situation in transit countries, or other possible causes of delays (e.g., imminent industrial actions, the start of major national holidays or religious festivals, etc.).</sentence>
    <sentence>As these factors can all affect the delivery schedule, information regarding such events must be kept up-to-date.</sentence>
    <sentence>Also, the freight planning process is becoming more and more complex as freight forwarders often need to consolidate cargo items from multiple customers in order to optimize the loading of the cargo containers (known as unit load devices, or ULDs).</sentence>
    <sentence>This second problem is known as the cargo consolidation (or cargo loading) problem.</sentence>
    <sentence>During the past decade, much research effort has been expended on the cargo consolidation and route planning problems (collectively labeled the C and R problem).</sentence>
    <sentence>Most of these studies aimed to optimize the consolidation and route planning process by constructing mathematical models and by using various intelligent optimization techniques.</sentence>
    <sentence>However, consolidation and route planning is just one part of the freight planning process.</sentence>
    <sentence>To minimize the work involved in collecting information, in recent years many researchers have proposed the use of a multi-agent technology system in logistics.</sentence>
    <sentence>A review of studies on multi-agent systems in air freight forwarding and related disciplines is given in Section 2.</sentence>
    <sentence>In this paper, we present a novel argumentation-based multi-agent decision support system for freight planning.</sentence>
    <sentence>The system has several distinctive research features.</sentence>
    <sentence>First, our system supports the automatic collecting and updating of information relevant to the freight planning process.</sentence>
    <sentence>By using information gathering mobile agents, our system can collect and monitor useful information from various sources including airline agent platforms, third party websites, and client platforms.</sentence>
    <sentence>Second, an argumentation mechanism is implemented for determining the best freight plan based on the principles of both cost minimization and risk reduction.</sentence>
    <sentence>Two agents are defined, namely the financial agent (FA) and the risk management agent (RMA).</sentence>
    <sentence>During the freight planning process, each of the two agents first proposes a freight plan according to their own goals and criteria: the FA plan is based on cost-minimization and the use of simulated annealing techniques, whereas the RMA plan is based on risk reduction using a fuzzy logic engine.</sentence>
    <sentence>Should the two paths not be the same, an argumentation process is executed, where the two agents challenge the other’s decision, exchange dialogs, and provide evidence justifying their proposed freight path.</sentence>
    <sentence>This continues until the difference is resolved.</sentence>
    <sentence>The output is a freight plan with well-explained rationales.</sentence>
    <sentence>A case study is given to demonstrate the feasibility of the proposed system.</sentence>
    <sentence>This paper consists of six sections.</sentence>
    <sentence>Section 1 is the introduction.</sentence>
    <sentence>A review of studies on the development of software agent systems in the air freight forwarding industry is found in Section 2.</sentence>
    <sentence>The system architecture of the agent system and details of the operating mechanism of each agent are described in Section 3.</sentence>
    <sentence>In Section 4, a case study is illustrated to show how the proposed system can be used to construct freight plans.</sentence>
    <sentence>Section 5 provides an evaluation of system performance.</sentence>
    <sentence>Section 6 concludes this paper.</sentence>
  </section>
  <section name="Background: software agents and cargo logistics">
    <sentence>In recent years, there has been much interest in applying multi-agent technology to deal with various problems in the field of logistics.</sentence>
    <sentence>Software agents have traditionally been defined as software entities with a high degree of autonomy, meaning that they can complete their assigned goals with minimal human supervision.</sentence>
    <sentence>Intelligent agents also have a number of desirable properties.</sentence>
    <sentence>Apart from being autonomous, agents are able to act proactively toward some goals, while also being reactive to dynamic environmental changes (Wooldridge &amp; Jennings, 1995).</sentence>
    <sentence>This makes them particularly suitable for applications where the problems are (1) modular in nature, (2) can be solved by a decentralized approach, (3) ill-structured, (4) such that frequent changes are expected and, most importantly, (5) complex and dynamic in nature (Parunak, 1999).</sentence>
    <sentence>It is not hard to see that cargo logistics fits many of these prerequisites: it is a complex problem involving multiple parties spread across many locations around the world, and the problem consists of many interdependent sub-tasks such as route planning, ULD booking, and monitoring.</sentence>
    <sentence>Additionally, for practical reasons, it is also desirable that the proposed solution should be comprehensible (Himoff, Skobelev, &amp; Wooldridge, 2005), that is, the reason behind the decisions should be understandable to humans.</sentence>
    <sentence>A cargo logistics problem is a very dynamic one, as information on matters such as road conditions, flight and container availability, and cargo supplies changes dynamically throughout the process.</sentence>
    <sentence>Negotiation-based multi-agent solutions are good candidates given these requirements.</sentence>
    <sentence>A desirable cargo logistics system must be highly autonomous so as to ease the burden of human operators, and readily react to any changes or unforeseen conditions, making software agents particularly attractive.</sentence>
    <sentence>For these reasons, various multi-agent based solutions have been proposed in cargo logistics, starting from some early studies that provided conceptual frameworks or platforms for distributed intelligent problem solving in logistics.</sentence>
    <sentence>One early example is the work of Satapathya, Kumaraa, and Moore (1998).</sentence>
    <sentence>In this work, a framework is proposed for decomposing a logistical task into sub-tasks, with each sub-task being taken up by a task agent.</sentence>
    <sentence>Although no specific implementation is described in detail, mechanisms for agent communication (with human or with other agents), collaboration, and task delegation are discussed.</sentence>
    <sentence>Later, in Himoff et al.</sentence>
    <sentence>(2005), Magenta, a commercial platform for building multi-agent based applications in logistics, is described.</sentence>
    <sentence>In this paper, we propose an argumentation-based multi-agent approach for cargo-logistics (specifically, for the C and R problem in air-freight forwarding).</sentence>
    <sentence>A purely cooperative multi-agent approach is taken, where all of the proposed agents belong to one single organization and jointly work toward a common objective.</sentence>
    <sentence>Many related works in the literature also belong to this category.</sentence>
    <sentence>For example, Chan, Chow, So, and Chan (2012) proposed a software agent and RFID-based approach for the C and R problem and for a problem known as “equalization.” Four task agents are defined for the respective tasks of flight planning, data-retrieval from airlines, equalization, and consolidation, which are overseen by an RFID Cargo Agent.</sentence>
    <sentence>Software agents are employed for autonomous background processing as well as for automatic information gathering (e.g., the latest flight schedules).</sentence>
    <sentence>Baykasoglu and Kaplanoglu (2011) tackled the C and R problem using a negotiation mechanism between order agents (which represent the cargo items to be delivered) and truck-agents (which represent the cargo delivering units).</sentence>
    <sentence>Xu, Wijesooriya, Wang, and Beydou (2011) proposed a cargo monitoring system for outbound logistics.</sentence>
    <sentence>They implemented a multi-agent framework for detecting and monitoring exceptional conditions at various stages of the logistics process (e.g., a cargo item that cannot be delivered).</sentence>
    <sentence>Chow, Choy, and Lee (2007) described a real-time process management system based on RFID and software agents to supply front-line operators with updated information (e.g., handling instructions for cargo items).</sentence>
    <sentence>In the work of Adler, Satapathy, Manikonda, Bowles, and Blue (2005), cooperative agents are defined to represent cargo truck operators and a centralized route planner.</sentence>
    <sentence>The routes are decided by a process of negotiation and the results are communicated to the truck drivers.</sentence>
    <sentence>Note that it is also possible to use seemingly competitive agents for purely cooperative tasks.</sentence>
    <sentence>Examples of this approach include the work of Zhu, Ludema, and van der Heijden (2000), which described a coalition formation approach for the C and R problem in air cargo logistics, and the work of Perugini, Lambert, Sterling, and Pearce (2005), which proposed a provisional agreement protocol to support the scheduling of global transportation.</sentence>
    <sentence>There are also other works with agents that are competitive (non-cooperating) in nature.</sentence>
    <sentence>Typically, such a design is used where the agents represent the interests of more than one party (e.g., a shipping customer and a freight forwarder, or more than one competing logistics company at various parts of a cargo-supply chain).</sentence>
    <sentence>Examples of such systems include the work of Wang, Vogel, Kumar, and Chiu (2009), where agents representing third party logistics companies (3PLs) interact at various stages of the cargo logistics supply chain of some shipping customer.</sentence>
    <sentence>Jung, Chen, and Jeong (2008) tackled this problem by defining software agents for the manufacturers and for the 3PL providers.</sentence>
    <sentence>In Robu, Noot, Poutré, and van Schijndel (2011), an auction-based platform is implemented to process bids from both 3PL agents and human 3PL bidders.</sentence>
    <sentence>In this paper, we describe a novel multi-agent approach for the C and R problem.</sentence>
    <sentence>There are two major contributions.</sentence>
    <sentence>First, in our system, an agent argumentation based mechanism is proposed.</sentence>
    <sentence>While the art of argumentation has been studied in philosophy since the classical period, it is a relatively new one for multi-agent systems mechanisms (McBurney &amp; Parsons, 2009), and certainly for cargo logistics decision support.</sentence>
    <sentence>Recall from the above that in cargo logistics it is often desirable that the rationale behind any system-proposed solutions should be explainable and understandable to the human operators, and yet this is an area currently not well explored in the literature.</sentence>
    <sentence>In agent argumentation, multiple solutions are concurrently proposed by agents with diverse areas of expertise and any solutions are subjected to challenges by other agents.</sentence>
    <sentence>The challenged agent must then provide the supporting evidence and rationale for his decision.</sentence>
    <sentence>(As a simple example, a low-cost solution can be challenged by a risk-sensitive agent raising concerns about the presumed risk of possible delays along a route.)</sentence>
    <sentence>This way, any final solution will be clear and well explained.</sentence>
    <sentence>The argumentation approach has been demonstrated successfully in medical applications (Fox et al., 2007).</sentence>
    <sentence>Second, to deal with the dynamic nature of the logistics environment, we propose the use of information gathering agents (Knoblock &amp; Ambite, 1997) to fetch relevant information from the web.</sentence>
    <sentence>Case studies and the results of experiments indicate that our approach is a promising one.</sentence>
  </section>
  <section name="The system architecture of the agent system">
    <sentence>The system architecture of the proposed agent system, which consists of six modules and seven software agents, is shown in Fig 1.</sentence>
    <sentence>Details of each agent within each module are discussed as follows.</sentence>
    <sentence>System architecture of the proposed agent system Fig 1.</sentence>
    <sentence>System architecture of the proposed agent system.</sentence>
    <sentence>Mobile agent The Mobile agent (MA) is responsible for collecting data and communicating with outside agent platforms.</sentence>
    <sentence>MA is able to move across different agent platforms in order to finish its assigned jobs by working with different agents from the client agent platform (CAP).</sentence>
    <sentence>Its operation is illustrated in Fig 2.</sentence>
    <sentence>MA operation Fig 2.</sentence>
    <sentence>MA operation.</sentence>
    <sentence>The MA can move to other agent platforms via a “do_move()” function by specifying the types of agents residing in the destination platforms.</sentence>
    <sentence>Details of the function are described in Table 1.</sentence>
    <sentence>Before migrating, MA first obtains a list of all possible locations to where it can move.</sentence>
    <sentence>After each migration, the MA performs the specified actions as defined by the “after_move()” function.</sentence>
    <sentence>The tasks are completed by means of exchanges of messages with other agents, and the contents vary from platform to platform.</sentence>
    <sentence>After completing its task, the MA then moves to the next location and the process is repeated.</sentence>
    <sentence>Finally, the MA moves back to CAP.</sentence>
    <sentence>Table 1.</sentence>
    <sentence>MA migration function to other agent platforms.</sentence>
    <sentence>Do_move(String AgentType) SET location_list = GET available locations OF AgentType FOR EACH location IN location_list move(location) after_move() END FOR move(CAP location) after_move() IF in CAP Move to SMP (Module 4) OR send best paths (Module 6) IF in AAP Invoke AA (Module 1) IF in SMP Invoke ShA (Module 4) END IF 3.2.</sentence>
    <sentence>Module 1: candidate path collection In this module, three agents, namely the client request agent (CRA), airline agent (AA), and mobile agent (MA) work together to collect customer requests, apply transformation to the information details (such as the origin and destination of the cargo, quantity of the cargo, and time of transportation) and then send it to Module 4 for further processing.</sentence>
    <sentence>• Client request agent (CRA) – The CRA acts as a middleman between the client interface and the MA.</sentence>
    <sentence>This module receives client-defined criteria and invokes a new MA to carry out the required tasks accordingly.</sentence>
    <sentence>• Mobile agent (MA) – MAs carry out the tasks specified by the CRA, and invoke the Airline Agents (AAs) in each airline agent platform (AAP) to retrieve all feasible routes satisfying the client’s criteria.</sentence>
    <sentence>• Airline agent (AA) – An AA is responsible for providing candidate paths that fulfill certain selection criteria (e.g., origin and destination) upon enquiry by the MAs.</sentence>
    <sentence>Each airline is assumed to have its own AAP and AA, which retrieves candidate flights from its flight database.</sentence>
    <sentence>The operations mechanism of Module 1 is described in Fig 3.</sentence>
    <sentence>Table 2 describes the flight path definition collected from each AAP.</sentence>
    <sentence>This information is stored in the data storage of Module 2 for further processing.</sentence>
    <sentence>Operation model of Module 1 Fig 3.</sentence>
    <sentence>Operation model of Module 1.</sentence>
    <sentence>Table 2.</sentence>
    <sentence>Path definition.</sentence>
    <sentence>Dataset Description Firstflight First flight of the path Secondflight Second flight of the path Origin Origin of the first flight Destination Destination of the second flight Transit Destination of the first flight, also the origin of the second flight Departuredate The departure date of the first flight Arrivaldate The arrival date of the second flight Weight Minimum total weight among two flights Pivotweight Minimum pivot weight among two flights Loadedweight Total weight of assigned shipments (for cargo consolidation in Module 4) Volume Minimum total volume among two flights Loaded volume Total volume of assigned shipments (for cargo consolidation in Module 4) Assigned_shipment List of assigned shipments (for cargo consolidation in Module 4) 3.3.</sentence>
    <sentence>Module 3: source data collection In this module, a single agent named the Source Agent (SA) is responsible for collecting the source data (e.g., weather-related information, news affecting logistics networks) from third-party websites.</sentence>
    <sentence>The collected data is then sent to the Risk Management Agent (RMA) in the Shipper Multi-agent Platform (SMP).</sentence>
    <sentence>The operations of this module are described in Fig 4.</sentence>
    <sentence>Operation model of Module 3 Fig 4.</sentence>
    <sentence>Operation model of Module 3.</sentence>
    <sentence>The SA first retrieves a list of target websites from a local database (news and weather), and then visits each one to retrieve the latest news and weather information.</sentence>
    <sentence>After this is completed, it moves back to the Source Agent Platform (SAP) and updates the retrieved information on the local database.</sentence>
    <sentence>For each retrieved item of logistics and political news, the SA calculates the frequencies of various keywords in the article, and a set of scores is computed accordingly.</sentence>
    <sentence>The activities carried out by the SAs are summarized as follows.</sentence>
    <sentence>SA-ActivitySA1: In this activity, the SA gathers relevant news and weather information from various websites and stores it in the SAP database.</sentence>
    <sentence>SA-ActivitySA2: In this activity, the SA computes a risk evaluation score from the retrieved news items by counting the frequencies of various pre-defined keywords.</sentence>
    <sentence>A score for each set of synonyms (of each keyword) is computed using the Paice model (Paice, 1984) as follows: (1) where n is the total number of synonyms existing in a news item, and tfi is the frequency of the terms, arranged in descending order.</sentence>
    <sentence>After the scores of all synonyms are calculated, a final score for the news item is then computed as: (2) where n is the number of a set of synonyms, and ssi is arranged in descending order.</sentence>
    <sentence>The results of the calculation are stored in the database for a subsequent evaluation of risk.</sentence>
    <sentence>This process is defined in Table 3.</sentence>
    <sentence>SA-ActivitySA3: This algorithm is used to calculate the score for a risk evaluation and for the provided place and date range from the RMA.</sentence>
    <sentence>Table 3.</sentence>
    <sentence>SA scoring function for retrieved news items.</sentence>
    <sentence>news_calculation (List news_list) SET keyword_list = keyword FROM Table: keyword SET r = 0.7 FOR EACH news IN news_list FOR EACH keyword IN keyword_list SET tf = frequency of keyword in news/total number of words in news STORE tf IN Table: keywordscore END FOR SET exist_keyword_list = keyword which exists in news FROM Table: keyword SET score_list = new list SET score_news = 0 SET r_sum_news = 0 SET count_synonyms = 0 FOR EACH keyword IN exist_keyword_list SET synonym_list = synonym of keyword FROM Table: thesaurus SET score = 0 SET r_sum = 0 SET count = 0SET tf_list = new list FOR EACH synonym IN synonym_list If exist_keyword_list contains synonym SET tf = tf of keyword in news FROM Table: keywordscore ADD tf TO tf_list in descending order REMOVE synonym FROM exist_keyword_list SET r_sum = r_sum + r^count SET count = count + 1 END IF END FOR SET count = 0 FOR EACH tf IN tf_list SET score = score + tf ∗ r^count SET count = count + 1 END FOR SET score = score/r_sum ADD score TO score_list in descending order SET r_sum_news = r_sum_news + r^count_synonyms SET count_synonyms = count_synonyms + 1 END FOR SET count = 0 FOR EACH score IN score_list SET score_news = score_news + score ∗ r^count SET count = count + 1 END FOR SET score_news = score_news/r_sum_news STORE score_news IN Table: news END FOR For logistics and politics news, the Paice model is used again to calculate the score constrained by places and dates: (3) where n is the number of news items fulfilling the location and date requirement, and sni is arranged in descending order.</sentence>
    <sentence>For weather, the score is the average weather score obtained by retrieving weather and weather score information from the database.</sentence>
    <sentence>This calculation is defined in Table 4.</sentence>
    <sentence>SA-ActivitySA4: This algorithm is used to send the calculated score in SA-ActivitySA3 to RMA to undergo a process of evaluation before argumentation.</sentence>
    <sentence>Table 4.</sentence>
    <sentence>SA risk evaluation score function for retrieved news items.</sentence>
    <sentence>score_calculation(String place, Date start_date, Date end_date, String type) SET final_score = 0 SET r = 0.7 IF type = “news” SET score_list = score of news fulfilling place, start_date, end_date and type FROM Table: news in descending order SET count = 0 SET r_sum_news = 0 FOR EACH score IN score_list SET final_score = final_score + score ∗ r^count SET r_sum_news = r_sum_news + r^count SET count = count + 1 END FOR SET final_score = final_score/r_sum_news IF type = “weather” SET final_score = average weather score fulfilling place, start_date, end_date FROM Table: weather and weathercondition END IF RETURNING final_score 3.4.</sentence>
    <sentence>Module 4: best path argumentation This module is the most important module in this system.</sentence>
    <sentence>In this module an agent argumentation based logistics solution is implemented to simultaneously consider risk and cost minimization.</sentence>
    <sentence>Four software agents are defined, namely a mobile agent (MA), a shipper agent (ShA), a financial agent (FA), and a risk management agent (RMA).</sentence>
    <sentence>Fig 8 shows the module’s operating mechanism.</sentence>
    <sentence>The MA first moves to each shipper multi-agent platform (SMP) in turn, carrying with it all possible transportation paths and relevant user selection criteria, and passes this information to the respective ShA.</sentence>
    <sentence>The FA and RMA are then invoked to determine the best cargo consolidation plan and the best cargo route using argumentation.</sentence>
    <sentence>After argumentation is completed, either the FA or RMA sends the optimized path to the ShA, which then returns the path and flight information to the MA.</sentence>
    <sentence>The above operations for the involved agents are described in Figs.</sentence>
    <sentence>5 and 6.</sentence>
    <sentence>Combined fuzzy membership function for news evaluation Fig 8.</sentence>
    <sentence>Combined fuzzy membership function for news evaluation.</sentence>
    <sentence>Operation model of Module 4 Fig 5.</sentence>
    <sentence>Operation model of Module 4.</sentence>
    <sentence>Operation flow of Module 4 Fig 6.</sentence>
    <sentence>Operation flow of Module 4.</sentence>
    <sentence>Agent argumentation mechanism Module 4 has two argumentation agents, namely, (1) the Financial agent and (2) the Risk management agent.</sentence>
    <sentence>Their mechanisms are described in Sections 3.4.2 and 3.4.3, respectively.</sentence>
    <sentence>Each agent tries to convince its counterpart by sending arguments with valid reasons based on its own mission and beliefs.</sentence>
    <sentence>When receiving an argument from its counterpart, the agent makes use of rules from its argumentation repository to determine a response.</sentence>
    <sentence>The function “argumentation()” used in agent argumentation is described in Table 5.</sentence>
    <sentence>Table 5.</sentence>
    <sentence>Function of agent argumentation.</sentence>
    <sentence>argumentation(Agent receiver, Agent sender, String message) SET reason = reason from message SET argument = argument from message SET rules = argumentation rules FROM argumentation repository of receiver SET response_argument = respondent’s argument after checking rules WITH argument and reason SET response_reason = respondent’s reason after checking rules WITH argument and reason send_message(receiver, sender, response_argument, response_reason) 3.4.2.</sentence>
    <sentence>Financial agent (FA) The FA is an argumentation agent for selecting a preferred flight path based on cost minimization.</sentence>
    <sentence>The FA argues with the RMA until an agreement is reached.</sentence>
    <sentence>Three algorithms, namely FA-ActivityFA1, FA-ActivityFA2, and FA-ActivityFA3 are defined, as follows.</sentence>
    <sentence>FA-ActivityFA1: This algorithm selects the financially optimal paths for all shipments by means of cargo-consolidation and transportation cost minimization.</sentence>
    <sentence>Details of cargo consolidation will be discussed in the next section.</sentence>
    <sentence>FA-ActivityFA2: This algorithm decides how to argue with the RMA during the argumentation process by following rules from its argumentation repository.</sentence>
    <sentence>The rules are based on costs, while taking into account the reported risks as informed by the RMA.</sentence>
    <sentence>The FA aims to select the most financially favorable path.</sentence>
    <sentence>FA-ActivityFA3: This algorithm sends the preferred path to the ShA after an agreement has been reached with the RMA.</sentence>
    <sentence>In air cargo logistics, cargo items are carried in containers known as ULD.</sentence>
    <sentence>The dimension and weight capacity of the ULDs differ from airline to airline, and even from flight to flight.</sentence>
    <sentence>Typically, the airline charges a fixed per-ULD rental fee for cargo items not exceeding a certain pivot weight, plus a per-kilogram fee for any weight exceeding that limit.</sentence>
    <sentence>Cargo consolidation is a process performed by freight forwarders, where cargo items from various shipments are loaded onto the same ULD for the purpose of cost minimization.</sentence>
    <sentence>Since any unshipped cargo items have to be stored in the forwarder’s warehouse with a volume-based storage and handling fee, a forwarder also wants to minimize the amount of unassigned cargo items during the C and R process.</sentence>
    <sentence>In our system, the FA is embedded with a simulated annealing algorithm for solving the C and R problem.</sentence>
    <sentence>In our formulation, each path represents the transportation path of a single ULD that is to be transported to a destination along a route with possibly multiple flights.</sentence>
    <sentence>The cost for a certain shipment consists of its ULD rental cost and cargo storage cost.</sentence>
    <sentence>The ULD rental cost includes the basic rental cost and the overweight cost.</sentence>
    <sentence>As an example, for a path p consisting of n flights {f1, , fn}, the ULD rental cost is calculated by: (4) where l_weight() gives the loaded weight of a ULD, and p_weight() gives the pivot weight of each flight.</sentence>
    <sentence>If the loaded weight exceeds the pivot weight, an extra fee is charged by airlines based on an overload rate and the excess weight.</sentence>
    <sentence>The total ULD rental cost for shippers is equal to the sum of all ULD rental costs for all shipments.</sentence>
    <sentence>The cargo storage cost consists of a basic per-cargo storage cost and extra volume-based costs.</sentence>
    <sentence>(5) Finally, the total cost is calculated as a linear combination of the two costs: (6) Table 6 shows the simulated annealing mechanism for consolidating cargo.</sentence>
    <sentence>Table 6.</sentence>
    <sentence>Function of cargo consolidation.</sentence>
    <sentence>cargo_consolidation(Shipment new_shipment, List paths) SET shipment_list = shipments which have the same origin and destination as new_shipment FROM Table: Shipment ADD new_shipment to shipment_list SET dummy_path = new Path for holding unassigned shipments SET t = 100 SET best_total_cost = 0 fill_flight() repair() WHILE t &gt; 0.01 SET best_total_cost = current total cost BACKUP dummy_path, paths neighbor() repair() SET current_total_cost = current total cost IF current_total_cost &gt; best_total_cost SET cost_difference = current_total_cost − best_total_cost SET r = random real number SET x = e−cost_difference/t IF r &lt; x ROLL BACK dummy_path, paths ELSE SET best_total_cost = current_total_cost END IF END IF DECREASE t according to the decrease function END WHILE RETURNING dummy_path, paths repair() FOR EACH path IN paths WHILE loaded_weight(path) &gt; weight(path) OR loaded_volume(path) &gt; volume(path) randomly assign a shipment from path to dummy_path END WHILE END FOR fill_flights() fill_flights() FOR EACH path IN paths WHILE loaded_weight(path) &lt; pivot_weight(path) randomly assign a shipment to path from dummy_path without exceeding volume(path) and fulfilling date requirement END WHILE END FOR neighbor() SET path1 = randomly select a path from paths SET path2 = randomly select a path from paths SET k = randomly generated integer &lt; no_of_shipments(path1) SET j = randomly generated integer &lt; no_of_shipments(path2) randomly remove k shipments from path1 randomly remove j shipments from path2 assign removed j shipments from path2 to path1 assign removed k shipments from path1 to path2 3.4.3.</sentence>
    <sentence>Risk management agent (RMA) The RMA is an argumentation agent for evaluating each path based on the potential risks (e.g., late delivery and damage to the shipment) and selecting the one with the lowest level of risk.</sentence>
    <sentence>The RMA may argue with the FA if their selected paths are not the same, until an agreement is reached.</sentence>
    <sentence>In this module, the assessment of the risk level of each possible path is determined by a fuzzy risk evaluation mechanism.</sentence>
    <sentence>Three algorithms, RMA-ActivityRMA1, RMA-ActivityRMA2, and RMA-ActivityRMA3 are defined: 1.</sentence>
    <sentence>RMA-ActivityRMA1: This algorithm selects the safest path for a new shipment based on a fuzzy risk evaluation.</sentence>
    <sentence>The RMA asks the SAs to provide scores for evaluation (see the discussion for Module 3), which includes extra risk-induced costs for various paths.</sentence>
    <sentence>Details of the fuzzy risk evaluation are discussed in the next section.</sentence>
    <sentence>RMA-ActivityRMA2: This algorithm determines how to argue with the FA by following rules from its local argumentation repository.</sentence>
    <sentence>During an argumentation process, the RMA first selects the safest path, and then sends it to the FA, along with the extra cost ratio computed from the fuzzy risk evaluation, in order to persuade the FA to agree.</sentence>
    <sentence>RMA-ActivityRMA3: This algorithm sends the best path to the ShA after an agreement is reached with the FA.</sentence>
    <sentence>Fuzzy risk evaluation is a process based on fuzzy logic, which is used for evaluating various information related to risks (e.g., news and weather information) collected by Module 1.</sentence>
    <sentence>The RMA first asks all SAs to provide risk scores for evaluating each path.</sentence>
    <sentence>Risk factors that may affect the flight path include (i) Logistics and politics scores and (ii) weather scores.</sentence>
    <sentence>By providing these scores to the fuzzy logic repository (described in Module 5), we can obtain three membership values for the three attributes (no risk/nice, risky, bad).</sentence>
    <sentence>These membership values are then used to determine the final evaluation result, and the attribute with the highest membership value is selected as the final level of risk.</sentence>
    <sentence>These values are also used to compute an extra cost ratio, which is done by defuzzification using a centroid method with a set of cost functions, as follows: (7) where x is the cost ratio value.</sentence>
    <sentence>The cost of a particular path after considering the risks of the path is: (8) Table 7 shows how fuzzy risk evaluation works.</sentence>
    <sentence>Table 7.</sentence>
    <sentence>Function of fuzzy risk evaluation.</sentence>
    <sentence>fuzzy_risk_evaluation(Shipment new_shipment, List paths) FOR EACH path IN paths request SAs to provide risk scores for path by calling send_message() SET news_values = 3 membership values after evaluating the news scores by providing them to the fuzzy logic repository SET weather_values = 3 membership values after evaluating the weather score by providing this to the fuzzy logic repository SET news_risk_value = Risk attribute represented by the maximum membership value in news_values SET weather_risk_value = Risk attribute represented by the maximum membership value in news_values SET news_cost_extra = cost estimation by using Formula 7 with news_values SET weather_cost_extra = cost estimation by using Formula 7 with weather_values END FOR SET min_path = the safest path by comparing risk attributes (news_risk_value) RETURNING min_path, news cost extra of min_path AND weather cost extra of min_path 3.5.</sentence>
    <sentence>Module 5: knowledge repository The knowledge repository stores different kinds of knowledge used by the argumentation agents for various purposes.</sentence>
    <sentence>Such knowledge includes the rules for argumentation and various fuzzy logic rules.</sentence>
    <sentence>These rules are employed by the agents during the decision-making process.</sentence>
    <sentence>Argumentation repository This repository stores argumentation rules.</sentence>
    <sentence>There are three types of rules with different priorities from lowest to highest: object-level decision rules, normal context priority rules, and specific context priority rules.</sentence>
    <sentence>Using the rules from the argumentation repository, different arguments can be decided from different respondent arguments.</sentence>
    <sentence>Each agent has its own argumentation rules that fulfill its own objectives as described in Module 4: 1.</sentence>
    <sentence>Financial agent (FA): Its rules aim to select the financially optimal flight path.</sentence>
    <sentence>This is achieved by comparing the cost using the path selected by the FA with that selected by the RMA.</sentence>
    <sentence>During argumentation, the FA keeps updating the operation costs of each path after receiving arguments (with an extra cost ratio) from the RMA until an agreement is received from the RMA or the path selected by the RMA is cheaper than one selected by the FA after taking into consideration the extra cost ratio incurred by risks.</sentence>
    <sentence>Table 8 shows the argumentation rules used by the FA.</sentence>
    <sentence>Table 8.</sentence>
    <sentence>Argumentation rules of the FA.</sentence>
    <sentence>Pc = Cheapest path selected by FA, P” = Path selected by the RMA Second argument in Argue() is the reason of the respondent’s argument Object-level decision rules r1: Propose(Pc)&lt;- Request r2: Challenge(P”)&lt;- Propose(P”) r3: Agree(P”)&lt;- Propose(P”) r4: Reply(Pc)&lt;- Agree(Pc) r5: Argue(Pc, cheap)&lt;- Challenge(Pc) r6: Agree(P”)&lt;- Argue(Pc, extra cost ratio) r7: Argue(Pc, cheap)&lt;- Argue(Pc, extra cost ratio) Normal context priority rules (First rule in h-p() is selected based on the fulfilled relative condition) R1: h-p(r2,r3)&lt;- Pc &lt;&gt; P” R2: h-p(r3,r2)&lt;- Pc = P” R3: h-p(r6,r7)&lt;- total cost &gt;= total cost” R4: h-p(r7,r6)&lt;- TRUE 2.</sentence>
    <sentence>Risk management agent (RMA): The argumentation rules defined for the RMA select the path with the lowest level of risk.</sentence>
    <sentence>This is achieved by evaluating paths based on risks and providing an extra cost ratio caused by risks to the FA for argumentation.</sentence>
    <sentence>During argumentation, the RMA keeps providing cost ratios to the FA for various FA-selected paths.</sentence>
    <sentence>Table 9 shows the argumentation rules used by the RMA.</sentence>
    <sentence>Table 9.</sentence>
    <sentence>Argumentation rules of the RMA.</sentence>
    <sentence>Ps = Safest path selected by the RMA, P” = Path selected by FA Second argument in Argue() is the reason of the respondent’s argument Object-level decision rules r1: Propose(Ps)&lt;- Request r2: Agree(P”)&lt;- Propose(P”) r3: Challenge(P”)&lt;- Propose(P”) r4: Reply(Ps)&lt;- Agree(Ps) r5: Finish &lt; - Agree(Ps) r6: Argue(Ps, extra cost ratio)&lt;- Challenge(Ps) r7: Argue(P”, extra cost ratio”)&lt;- Argue(P”, cheap) r8: Agree(P”)&lt;- Argue(P”, cheap) Normal context priority rules (First rule in h-p() is selected based on the fulfilled relative condition) R1: h-p(r2,r3)&lt;- Ps &lt;&gt; P” R2: h-p(r3,r2)&lt;- Ps = P” R3: h-p(r4,r5)&lt;- Ps &lt;&gt; P” R4: h-p(r7,r8)&lt;- news” &lt;&gt; no risk, weather” &lt;&gt; no risk R5: h-p(r8,r7)&lt;- news” = no risk and weather” = no risk Specific context priority rules (First rule in hp() is selected based on the fulfilled relative condition) C1: hp(R5,R4)&lt;- news and weather are considered C2: hp(R4,R5)&lt;- TRUE Table 10.</sentence>
    <sentence>Accuracy (precision) of the retrieved result.</sentence>
    <sentence>News retrieved Precision (%) 25 36.00 50 36.00 100 44.00 200 42.00 300 40.00 400 41.00 500 42.00 MAP 41.76 3.5.2.</sentence>
    <sentence>Fuzzy logic repository This repository contains the fuzzy logic rules for evaluating risk as well as the membership functions for defining various fuzzy values.</sentence>
    <sentence>By providing a score (x) to a particular fuzzy rule, their fuzzy values are computed accordingly.</sentence>
    <sentence>Three fuzzy values are defined as no_risk, risky, and bad.</sentence>
    <sentence>Each type of news and weather information has its own set of fuzzy rules: 1.</sentence>
    <sentence>News: There are two types of news, namely logistical and political, each with its own logical rules for evaluating risk (Fig 7).</sentence>
    <sentence>The outcomes from these two evaluations are evaluated again using the following membership functions (Fig 8): A. where scorel is the logistics performance and is the political stability level of the selected countries B. C. Fuzzy membership function for the two types of news Fig 7.</sentence>
    <sentence>Fuzzy membership function for the two types of news.</sentence>
    <sentence>Weather: Only one evaluation is needed to evaluate the weather score according to the three membership functions.</sentence>
    <sentence>The logic is presented in Fig 9.</sentence>
    <sentence>Fuzzy membership function of weather evaluation Fig 9.</sentence>
    <sentence>Fuzzy membership function of weather evaluation.</sentence>
  </section>
  <section name="Case study">
    <sentence>This section discusses an application of the proposed system in the freight planning process.</sentence>
    <sentence>A case study example is illustrated below.</sentence>
    <sentence>Suppose a freight planner receives a freight request from a shipper who wants to ship some items of cargo from Hong Kong to London between 4 January 2012 and 10 January 2012 (inclusive).</sentence>
    <sentence>Suppose two airlines are available for this request and the local logistics service providers are also available for the user-end cargo delivery.</sentence>
    <sentence>By consolidating such a customer request with other shipment orders, a freight plan is produced.</sentence>
    <sentence>The operational steps of our proposed system are as follows: 1.</sentence>
    <sentence>Creation of the Mobile agent (MA).</sentence>
    <sentence>The duty of the MA is to access various airline platforms to obtain a set of candidate freight paths from the airline agents (Fig 10).</sentence>
    <sentence>Shipment collection of the Mobile agent Fig 10.</sentence>
    <sentence>Shipment collection of the Mobile agent.</sentence>
    <sentence>The MA moves to the shipper’s platform and invokes the corresponding shipper agent by sending it relevant shipment information such as an acceptable freight path and user selection criteria.</sentence>
    <sentence>The shipper agent creates a new shipment and invokes the argumentation agents, the Financial Agent (FA), and the Risk management agent (RMA), and starts the process of evaluating the freight plan.</sentence>
    <sentence>The Financial agent (FA) is responsible for minimizing the total shipment cost by consolidating the cargo with other shipments.</sentence>
    <sentence>The freight path with the lowest operating cost is computed using a simulated annealing algorithm program.</sentence>
    <sentence>After the analysis is completed, the FA concludes (Formula 6) that the shipment cost for the selected freight plan is $880, as shown in Fig 10.</sentence>
    <sentence>At the same time, the risk management agent (RMA) is also activated to select the freight path with the lowest level of risk in terms of weather conditions and country-level risk at each flight node or transit point using a fuzzy risk evaluation.</sentence>
    <sentence>The provision of a risk score for each flight node is done by source agents that keep browsing and retrieving news and weather information from various websites using Formula 3, as shown in Fig 11.</sentence>
    <sentence>Shipment cost calculation by the RMA Fig 11.</sentence>
    <sentence>Shipment cost calculation by the RMA.</sentence>
    <sentence>The FA and RMA both select and propose their own selected path to each other (Rule r1 of the FA and RMA).</sentence>
    <sentence>If the selected flight paths are not the same, an argumentation process between the FA and RMA then takes place (FA Rule r2, RMA Rule r3, and R1) (see Fig 12).</sentence>
    <sentence>Web browsing by the Mobile agent and Sourcing agent Fig 12.</sentence>
    <sentence>Web browsing by the Mobile agent and Sourcing agent .</sentence>
    <sentence>The FA first argues with the RMA by stating that its selected path has the lowest operating cost (FA Rule r5).</sentence>
    <sentence>In return, the RMA proposes an alternative path with the lowest extra cost ratio (0%) (RMA Rule r6) according to Formula 7, and sends it to the FA.</sentence>
    <sentence>The FA computes the total operating cost for the alternative path ($920) using Formula 7, as shown in Fig 13.</sentence>
    <sentence>Cost calculation analysis by the RMA Fig 13.</sentence>
    <sentence>Cost calculation analysis by the RMA.</sentence>
    <sentence>The RMA further argues that the path originally selected by the FA has a 20% extra-risk cost ratio, which results in a significant increase in the overall operating cost according to Formula 7 (RMA Rule r7, R4, and C2).</sentence>
    <sentence>The FA re-computes the total operating cost for the original path by considering the new shipment order and the extra-risk cost ratio reported by the RMA, which turns out to be $880 + ($100 + $90) ∗ 20% = $918, where the additional cost ($190) is the total pivot cost of the selected path for the new shipment and the extra 20% is the risk-cost (Formula 8).</sentence>
    <sentence>Since the total cost of the FA-selected path is lower than one selected by the RMA ($918 vs. $920), the FA argues with the RMA once again (FA Rule r7 and R4).</sentence>
    <sentence>Based on the new argument from the FA, the RMA calculates the next set of risk-related costs, which is the extra-risk cost ratio for risky weather conditions (3.75%) and then sends the result to the FA (RMA Rule r7, R4, and C2).</sentence>
    <sentence>The FA readjusts the total operating cost by taking into account the additional risk factor of weather conditions ($910+($190)∗3.75% = $926.55) using Formula 8.</sentence>
    <sentence>Since the total operating cost of the freight plan selected by the FA is now higher than the one selected by the RMA ($926.55 &gt; $920), the FA compromises and agrees to use the path selected by the RMA based on the financial objective as shown in Fig 14 (FA Rule r6 and R3).</sentence>
    <sentence>A message of agreement is sent back from the FA to the RMA.</sentence>
    <sentence>With mutual agreement between the agents, the argumentation is completed.</sentence>
    <sentence>Final result confirmation between the FA and the RMA Fig 14.</sentence>
    <sentence>Final result confirmation between the FA and the RMA.</sentence>
    <sentence>The RMA sends the freight path to the shipper agent.</sentence>
    <sentence>The shipper agent sends the result to the MA (RMA Rule r4 and R3).</sentence>
    <sentence>The MA moves back to the freight planner and presents the optimal freight path with details to the client through the client request agent.</sentence>
  </section>
  <section name="Performance analysis">
    <sentence>The purpose of the proposed system is to assist freight forwarders in constructing effective and well-explained freight plans via an argumentation-based mechanism and mobile-agent technology to automatically retrieve the required information from various web and agent platforms.</sentence>
    <sentence>To validate its system performance and limitations, three tests were conducted as follows.</sentence>
    <sentence>The experiments were run on a PC computer with an Intel Core-i7 processor and 6G of memory.</sentence>
    <sentence>Test 1: mobility ability In the first experiment, we investigated the relationship between the number of shipment orders and the processing time in freight planning.</sentence>
    <sentence>As shown in Fig 15, a nearly linear relationship was found between these two attributes.</sentence>
    <sentence>The reasons for the increase in processing time were: (i) the mobile agents had to consume extra time in collecting information from various sources such as websites and the agent platforms of airlines and shippers, and (ii) the processing time for argumentation increased as the argumentation agents (FA and RMA) needed to obtain more information from various sources to justify their proposed flight plan, and extra time was required for the argument process between two agents.</sentence>
    <sentence>From the above figure, the average processing time per shipper was 0.28 s. Relationship between processing time and number of shipment orders Fig 15.</sentence>
    <sentence>Relationship between processing time and number of shipment orders.</sentence>
    <sentence>Test 2: cargo consolidation ability The second experiment studied the efficiency of the cargo consolidation process by measuring the relationships among computational running times, weight utilizations, and the resulting total costs.</sentence>
    <sentence>A set of data on 40 shipments with 5 ULDs was used, and each test case was repeated 100 times in different allowed time-settings.</sentence>
    <sentence>Each time-setting was repeated 10 times and their average results (average running times, average weight utilizations, and average total costs) were recorded.</sentence>
    <sentence>Thus, a total of 1000 tests were conducted for the cargo consolidation function, and the results (in terms of the relationship between running time and utilization, and between weight utilizations and cost) are presented in Fig 16: Relationship between weight utilization, total cost, and running time Fig 16.</sentence>
    <sentence>Relationship between weight utilization, total cost, and running time.</sentence>
    <sentence>The above figures show that the running time is directly proportional to the weight utilization, which is inversely proportional to the total cost.</sentence>
    <sentence>The average weight utilization is 74%, while the average running time is around 110 ms. 5.3.</sentence>
    <sentence>Test 3: retrieval of sources of information for risk assessments In this experiment, we measured the precision of the information gathered by the mobile agent.</sentence>
    <sentence>Five hundred and fifty news items on a certain topic were retrieved by the mobile agent, and their accuracy was judged by a human referee.</sentence>
    <sentence>The accuracy of the information was based on the precision value as defined in the following formula: Table 10 shows the evaluation results.</sentence>
    <sentence>The resulting mean average precision (MAP) of our system is on par with the published results of current studies on information retrieval technology (e.g., a 20%–40% accuracy rate was reported in Voorhees, 2005).</sentence>
    <sentence>In comparison, our system achieved a precision rate of around 40%.</sentence>
  </section>
  <section name="Conclusion">
    <sentence>This paper proposed a multi-agent system with decision supports and mobile information retrieval functions for the problem of freight planning.</sentence>
    <sentence>Traditionally, the major task of freight forwarders is to consolidate different shipment orders with the objective of cost minimization while satisfying various service requirement constraints.</sentence>
    <sentence>Freight planning is a time-consuming task, often requiring manual planning to minimize the overall operating cost while simultaneously taking into account various potential risks that may affect the delivery of shipment orders.</sentence>
    <sentence>A cargo route planner thus needs to be aware of the ever-changing conditions in various parts of the world along the shipping route, and trade-offs are often required between cost minimization and risk-reduction.</sentence>
    <sentence>This complex process requires huge amounts of data and information.</sentence>
    <sentence>In this paper, we proposed a multi-agent system for overcoming certain important freight planning problems.</sentence>
    <sentence>The main contributions of this paper are as follows.</sentence>
    <sentence>First, in order to cope with a dynamic and changing global environment, a mobile-agent-based approach was adopted, where designated information-gathering agents automatically collect up-to-date information for the purpose of decision-making (e.g., weather conditions or news items that have logistical consequences).</sentence>
    <sentence>Second, an argumentation-based multi-agent decision support mechanism was implemented for conducting a multi-objectives analysis in freight planning.</sentence>
    <sentence>A simulated annealing algorithm based cost optimization engine and a fuzzy-logic based risk assessment approach was also implemented.</sentence>
    <sentence>Our system design has good modularity, and the generated solutions are well explained.</sentence>
    <sentence>A case study example was provided and experiments for evaluating the system’s performance were conducted.</sentence>
    <sentence>In general, the results are satisfactory and we believe that our system indicates a new direction for future freight forwarding decision support systems.</sentence>
  </section>
</article>
